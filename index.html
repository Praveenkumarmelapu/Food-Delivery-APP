<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CraveBite | Delicious Food Delivered</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <div class="logo">
                <i class="fas fa-utensils"></i> CraveBite
            </div>
            
            <div class="location-selector" onclick="getLocation()">
                <i class="fas fa-map-marker-alt"></i>
                <span>New York, USA</span>
                <i class="fas fa-chevron-down"></i>
            </div>

            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search for food, restaurants...">
            </div>

            <div class="cart-icon" onclick="toggleCart()">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-badge" id="cartBadge">0</span>
            </div>

            <div class="favorite-icon" onclick="openProfile('favorites')" style="display: none;">
                <i class="fas fa-heart"></i>
            </div>

            <div class="profile-icon" onclick="openProfile()" style="display: none;">
                <i class="fas fa-user-circle"></i>
            </div>

            <div class="nav-links">
                <div class="auth-icon" onclick="openLogin()" title="Login / Sign up">
                    <i class="far fa-user"></i>
                </div>
                <a href="#" class="logout-btn" onclick="handleLogout()" style="display: none;">Log out</a>
            </div>
            
            <div class="mobile-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>Delicious food delivered to your doorstep</h1>
                <p>Order from your favorite restaurants and get it delivered in minutes.</p>
                <button class="cta-btn" onclick="document.getElementById('restaurants').scrollIntoView({behavior: 'smooth'})">Order Now</button>
            </div>
        </div>
    </header>

    <!-- Offers Section -->
    <section class="offers-section">
        <div class="container">
            <div class="promo-banner">
                <div class="banner-item">
                    <span class="promo-badge">New Arrival</span>
                    <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Special Offer">
                    <button class="banner-btn" onclick="document.getElementById('restaurants').scrollIntoView({behavior: 'smooth'})">Check It Out</button>
                </div>
                <div class="banner-item">
                    <span class="promo-badge">Limited Time</span>
                    <img src="https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Dessert Offer">
                    <button class="banner-btn" onclick="document.getElementById('restaurants').scrollIntoView({behavior: 'smooth'})">Order Now</button>
                </div>
            </div>
            <div class="offers-scroll">
                <div class="offer-card gradient-1">
                    <div class="offer-text">
                        <h3>50% OFF</h3>
                        <p>On your first order</p>
                        <span class="coupon">CODE: WELCOME50</span>
                    </div>
                </div>
                <div class="offer-card gradient-2">
                    <div class="offer-text">
                        <h3>Free Delivery</h3>
                        <p>Orders above ₹200</p>
                        <span class="coupon">CODE: FREEDEL</span>
                    </div>
                </div>
                <div class="offer-card gradient-3">
                    <div class="offer-text">
                        <h3>Buy 1 Get 1</h3>
                        <p>On selected burgers</p>
                        <span class="coupon">CODE: BOGO</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories-section">
        <div class="container">
            <h2>Inspiration for your first order</h2>
            <div class="category-grid" id="categoryGrid">
                <!-- Categories injected via JS -->
            </div>
        </div>
    </section>

    <!-- Section Separator -->
    <div class="container"><hr class="section-divider"></div>

    <!-- Popular Restaurants -->
    <section class="restaurants-section" id="restaurants">
        <div class="container">
            <div class="section-header">
                <h2>Popular Restaurants</h2>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="fast-food">Fast Food</button>
                    <button class="filter-btn" data-filter="healthy">Healthy</button>
                    <button class="filter-btn" data-filter="asian">Asian</button>
                    <div class="price-filter">
                        <label for="priceRange">Max Price: <span id="priceValue">₹1000</span></label>
                        <input type="range" id="priceRange" min="100" max="1000" value="1000" step="50">
                    </div>
                </div>
            </div>
            <div class="restaurant-grid" id="restaurantGrid">
                <!-- Restaurant Cards injected via JS -->
            </div>
        </div>
    </section>

    <!-- Digital Products / Add-ons -->
    <section class="digital-products">
        <div class="container">
            <h2>Enhance your experience</h2>
            <div class="digital-grid">
                <div class="digital-card gold-member">
                    <i class="fas fa-crown"></i>
                    <h3>Crave Gold</h3>
                    <p>Unlimited free delivery & exclusive discounts.</p>
                    <button>Join Now</button>
                </div>
                <div class="digital-card gift-card">
                    <i class="fas fa-gift"></i>
                    <h3>Gift Cards</h3>
                    <p>The perfect gift for food lovers.</p>
                    <button>Buy Now</button>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2>How It Works</h2>
            <div class="steps-grid">
                <div class="step">
                    <div class="icon-box"><i class="fas fa-map-marked-alt"></i></div>
                    <h3>Choose Location</h3>
                </div>
                <div class="step">
                    <div class="icon-box"><i class="fas fa-hamburger"></i></div>
                    <h3>Select Food</h3>
                </div>
                <div class="step">
                    <div class="icon-box"><i class="fas fa-shipping-fast"></i></div>
                    <h3>Fast Delivery</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <p>&copy; 2024 CraveBite. All rights reserved.</p>
            <div class="socials">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="toast">Item added to cart!</div>

    <!-- Menu Modal -->
    <div id="menuModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeMenu()">&times;</span>
            <div id="menuHeader"></div>
            <div id="menuGrid" class="menu-grid"></div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartOverlay" class="overlay" onclick="toggleCart()"></div>
    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-header">
            <h3>Your Cart</h3>
            <span class="close-cart" onclick="toggleCart()">&times;</span>
        </div>
        <div id="cartItems" class="cart-items"></div>
        <div class="cart-footer">
            <div class="discount-section">
                <input type="text" id="discountInput" placeholder="Promo Code">
                <button onclick="applyDiscount()">Apply</button>
            </div>
            <div class="cart-total">Total: ₹<span id="cartTotal">0.00</span></div>
            <button class="checkout-btn" onclick="openCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content checkout-content">
            <span class="close-btn" onclick="closeCheckout()">&times;</span>
            <h2>Checkout</h2>
            
            <!-- Progress Bar -->
            <div class="checkout-progress">
                <div class="step-node active" data-step="1">1</div>
                <div class="step-line"></div>
                <div class="step-node" data-step="2">2</div>
                <div class="step-line"></div>
                <div class="step-node" data-step="3">3</div>
            </div>
            <div class="step-labels">
                <span>Address</span>
                <span>Payment</span>
                <span>Confirm</span>
            </div>

            <form id="checkoutForm" onsubmit="handleCheckout(event)">
                <!-- Step 1: Address -->
                <div class="checkout-step-content active" data-step="1">
                    <input type="text" placeholder="Full Name" required>
                    <input type="text" placeholder="Address" required>
                </div>

                <!-- Step 2: Payment -->
                <div class="checkout-step-content" data-step="2">
                    <div class="payment-method">
                        <label><input type="radio" name="payment" value="card" checked onchange="togglePayment()"> Card Payment</label>
                        <label><input type="radio" name="payment" value="cod" onchange="togglePayment()"> Cash on Delivery</label>
                    </div>
                    <div id="cardDetails">
                        <input type="text" placeholder="Card Number" required>
                        <input type="text" placeholder="Expiry MM/YY" required>
                        <input type="text" placeholder="CVV" required>
                    </div>
                </div>

                <!-- Step 3: Confirm -->
                <div class="checkout-step-content" data-step="3">
                    <div class="order-summary-box">
                        <h3>Order Summary</h3>
                        <p>Total Items: <span id="summaryItems">0</span></p>
                        <p>Total Amount: <span id="summaryTotal">₹0.00</span></p>
                    </div>
                </div>

                <div class="checkout-actions">
                    <button type="button" class="prev-btn" onclick="changeCheckoutStep(-1)" style="display: none;">Back</button>
                    <button type="button" class="next-btn" onclick="changeCheckoutStep(1)">Next</button>
                    <button type="submit" class="pay-btn" style="display: none;">Place Order</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content auth-content">
            <span class="close-btn" onclick="closeLogin()">&times;</span>
            <h2>Log In</h2>
            <form onsubmit="handleLogin(event)">
                <input type="email" placeholder="Email" required>
                <div class="password-wrapper">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <i class="fas fa-eye toggle-password" onclick="togglePassword('loginPassword', this)"></i>
                </div>
                
                <div class="auth-options">
                    <label><input type="checkbox" checked> Remember me</label>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>

                <button type="submit" class="pay-btn">Log In</button>
                
                <div class="auth-separator"><span>Or continue with</span></div>
                
                <div class="social-login">
                    <button type="button" class="social-btn google"><i class="fab fa-google"></i> Google</button>
                    <button type="button" class="social-btn facebook"><i class="fab fa-facebook-f"></i> Facebook</button>
                </div>
            </form>
            <p class="auth-footer">Don't have an account? <a href="#" onclick="closeLogin(); openSignup()">Sign up</a></p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content auth-content">
            <span class="close-btn" onclick="closeSignup()">&times;</span>
            <h2>Sign Up</h2>
            <form onsubmit="handleSignup(event)">
                <input type="text" placeholder="Full Name" required>
                <input type="email" placeholder="Email" required>
                <input type="password" placeholder="Password" required>
                <button type="submit" class="pay-btn">Sign Up</button>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content profile-content">
            <span class="close-btn" onclick="closeProfile()">&times;</span>
            <h2>My Account</h2>
            
            <div class="profile-tabs">
                <button class="tab-btn active" onclick="switchProfileTab('profile')">Profile</button>
                <button class="tab-btn" onclick="switchProfileTab('favorites')">Favorites</button>
            </div>

            <div id="tab-profile" class="tab-content">
                <div class="profile-header">
                    <div class="profile-avatar"><i class="fas fa-user"></i></div>
                    <h3 id="profileName">Guest User</h3>
                    <p id="profileEmail">user@example.com</p>
                </div>
                <div class="profile-stats">
                    <div class="stat-item">
                        <strong>0</strong><span>Orders</span>
                    </div>
                    <div class="stat-item">
                        <strong>0</strong><span>Reviews</span>
                    </div>
                </div>
                <input type="text" id="orderSearchInput" placeholder="Search orders..." class="order-search-input">
                <div id="orderHistory" class="order-history-list"></div>
                <button class="logout-btn-modal" onclick="handleLogout(); closeProfile()">Log Out</button>
            </div>

            <div id="tab-favorites" class="tab-content" style="display: none;">
                <div id="favoritesList" class="favorites-list"></div>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTopBtn" title="Go to top"><i class="fas fa-arrow-up"></i></button>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>
</html>